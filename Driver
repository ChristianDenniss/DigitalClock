import javafx.application.Application;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.stage.Stage;
import javafx.scene.paint.Color;
import javafx.util.Duration;
import java.time.LocalTime;
import javafx.animation.KeyFrame;
import javafx.animation.Timeline;
import javafx.application.Application;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.paint.Color;
import javafx.stage.Stage;
import javafx.util.Duration;


public class Driver extends Application 
{

    @Override
    public void start(Stage primaryStage) 
    {
        Group root = new Group();

        Digits digitOne = new Digits(1);
        Digits digitTwo = new Digits(2);
        Digits digitThree = new Digits(3);
        Digits digitFour = new Digits(4);
        Colon colon = new Colon(330, 145, 10);
        
        // Add the digit objects to the root group
        root.getChildren().addAll(colon.getTopDot(), colon.getBottomDot(), digitOne, digitTwo, digitThree, digitFour);
        
        Scene scene = new Scene(root, 800, 600);
  
        scene.setFill(Color.BLACK);

        // Set the stage title
        primaryStage.setTitle("DigitalClock");

        // Set the scene on the stage
        primaryStage.setScene(scene);

        // Show the stage
        primaryStage.show();
        
        Timeline timeline = new Timeline(new KeyFrame(Duration.seconds(1), e -> updateClock(digitOne, digitTwo, digitThree, digitFour)));
        timeline.setCycleCount(Timeline.INDEFINITE);
        timeline.play();
    }
    
    public void updateClock(Digits one, Digits two, Digits three, Digits four)
    {
        System.out.println("Update clock method called");
        LocalTime time = LocalTime.now();
    
        
        int hour = time.getHour();
        int minute = time.getMinute();
    
        one.setDigit(hour / 10);      
        two.setDigit(hour % 10);      
        three.setDigit(minute / 10); 
        four.setDigit(minute % 10);
    }
}
